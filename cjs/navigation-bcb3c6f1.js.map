{"version":3,"file":"navigation-bcb3c6f1.js","sources":["../src/app/core/util/ContensisDeliveryApi.js","../src/app/core/redux/types/version.js","../src/app/core/redux/actions/version.js","../src/app/core/redux/reducers/routing.js","../src/app/core/redux/reducers/version.js","../src/app/core/redux/types/navigation.js","../src/app/core/redux/reducers/navigation.js","../src/app/core/redux/routerMiddleware.js","../src/app/core/redux/store.js","../src/app/core/redux/selectors/version.js","../src/app/core/redux/selectors/navigation.js"],"sourcesContent":["import { Client } from 'contensis-delivery-api';\r\n\r\nconst getClientConfig = project => {\r\n  let config = DELIVERY_API_CONFIG; /* global DELIVERY_API_CONFIG */\r\n  if (project) {\r\n    config.projectId = project;\r\n  }\r\n\r\n  if (\r\n    typeof window != 'undefined' &&\r\n    PROXY_DELIVERY_API /* global PROXY_DELIVERY_API */\r\n  ) {\r\n    // ensure a relative url is used to bypass the need for CORS (separate OPTIONS calls)\r\n    config.rootUrl = '';\r\n    config.responseHandler = {\r\n      404: () => null,\r\n    };\r\n  }\r\n  return config;\r\n};\r\n\r\nexport * from 'contensis-delivery-api';\r\n\r\n// This should only be executed on the client as it relies on the window.\r\nexport const GetClientSideDeliveryApiStatus = () => {\r\n  if (typeof window != 'undefined') {\r\n    const currentHostname = window.location.hostname;\r\n    return GetDeliveryApiStatusFromHostname(currentHostname);\r\n  }\r\n  return null;\r\n};\r\n\r\nexport const GetDeliveryApiStatusFromHostname = currentHostname => {\r\n  if (currentHostname.indexOf('localhost') > -1) return 'latest';\r\n\r\n  if (currentHostname.endsWith('contensis.cloud')) {\r\n    if (currentHostname.indexOf('preview.') > -1) {\r\n      return 'latest';\r\n    } else {\r\n      return 'published';\r\n    }\r\n  }\r\n\r\n  if (currentHostname.endsWith('cloud.contensis.com')) {\r\n    if (currentHostname.indexOf('preview-') > -1) {\r\n      return 'latest';\r\n    } else {\r\n      return 'published';\r\n    }\r\n  }\r\n\r\n  return 'published';\r\n};\r\n\r\nexport const GetResponseGuids = object => {\r\n  let Ids = [];\r\n  Object.keys(object).some(function(k) {\r\n    if (k === 'sys') {\r\n      //Should always have an ID, but lets check...\r\n      if (object[k].id && object[k].language) {\r\n        // We can exclude assets here i think... ?\r\n        if (object[k].dataFormat) {\r\n          if (object[k].dataFormat !== 'asset') {\r\n            Ids.push(`${object[k].id}_${object[k].language.toLowerCase()}`);\r\n          }\r\n        } else {\r\n          // If we don't have a dataformat add it anyhow, for safety\r\n          Ids.push(`${object[k].id}_${object[k].language.toLowerCase()}`);\r\n        }\r\n      }\r\n      return false;\r\n    }\r\n    if (object[k] && typeof object[k] === 'object') {\r\n      let subIds = GetResponseGuids(object[k]);\r\n      if (subIds.length > 0) {\r\n        Ids.push(...subIds);\r\n      }\r\n      return false;\r\n    }\r\n  });\r\n  return Ids;\r\n};\r\n\r\nexport const GetAllResponseGuids = object => {\r\n  if (!object) return [];\r\n  let returnItems = GetResponseGuids(object);\r\n  let unique = new Set(returnItems);\r\n  return unique;\r\n};\r\nclass DeliveryApi {\r\n  search(query, linkDepth, project, env) {\r\n    const client = Client.create(getClientConfig(project, env));\r\n    return client.entries.search(\r\n      query,\r\n      typeof linkDepth !== 'undefined' ? linkDepth : 1\r\n    );\r\n  }\r\n\r\n  getClient(deliveryApiStatus = 'published', project, env) {\r\n    const baseConfig = getClientConfig(project, env);\r\n    baseConfig.versionStatus = deliveryApiStatus;\r\n    return Client.create(baseConfig);\r\n  }\r\n  getEntry(id, linkDepth = 0, deliveryApiStatus = 'published', project, env) {\r\n    const baseConfig = getClientConfig(project, env);\r\n    baseConfig.versionStatus = deliveryApiStatus;\r\n    const client = Client.create(baseConfig);\r\n    // return client.entries.get(id, linkDepth);\r\n    return client.entries.get({ id, linkDepth });\r\n  }\r\n}\r\n\r\nexport const deliveryApi = new DeliveryApi();\r\n\r\nclass CacheNode {\r\n  constructor(key, value) {\r\n    this.key = key;\r\n    this.value = value;\r\n    this.next = null;\r\n    this.prev = null;\r\n  }\r\n}\r\n\r\nclass LruCache {\r\n  constructor(limit = 100) {\r\n    this.map = {};\r\n    this.head = null;\r\n    this.tail = null;\r\n    this.limit = limit || 100;\r\n    this.size = 0;\r\n  }\r\n\r\n  get(key) {\r\n    if (this.map[key]) {\r\n      let value = this.map[key].value;\r\n      let node = new CacheNode(key, value);\r\n      this.remove(key);\r\n      this.setHead(node);\r\n      return value;\r\n    }\r\n  }\r\n\r\n  set(key, value) {\r\n    let node = new CacheNode(key, value);\r\n    if (this.map[key]) {\r\n      this.remove(key);\r\n    } else {\r\n      if (this.size >= this.limit) {\r\n        delete this.map[this.tail.key];\r\n        this.size--;\r\n        this.tail = this.tail.prev;\r\n        this.tail.next = null;\r\n      }\r\n    }\r\n    this.setHead(node);\r\n  }\r\n\r\n  setHead(node) {\r\n    node.next = this.head;\r\n    node.prev = null;\r\n    if (this.head) {\r\n      this.head.prev = node;\r\n    }\r\n    this.head = node;\r\n    if (!this.tail) {\r\n      this.tail = node;\r\n    }\r\n    this.size++;\r\n    this.map[node.key] = node;\r\n  }\r\n\r\n  remove(key) {\r\n    let node = this.map[key];\r\n    if (node.prev) {\r\n      node.prev.next = node.next;\r\n    } else {\r\n      this.head = node.next;\r\n    }\r\n    if (node.next) {\r\n      node.next.prev = node.prev;\r\n    } else {\r\n      this.tail = node.prev;\r\n    }\r\n    delete this.map[key];\r\n    this.size--;\r\n  }\r\n}\r\n\r\nclass CachedSearch {\r\n  cache = new LruCache();\r\n  taxonomyLookup = {};\r\n\r\n  search(query, linkDepth, project, env) {\r\n    const client = Client.create(getClientConfig(project, env));\r\n    return this.request(\r\n      project + JSON.stringify(query) + linkDepth.toString(),\r\n      () => client.entries.search(query, linkDepth)\r\n    );\r\n  }\r\n\r\n  get(id, linkDepth, versionStatus, project, env) {\r\n    const client = Client.create(getClientConfig(project, env));\r\n    client.clientConfig.versionStatus = versionStatus;\r\n    return this.request(id, () => client.entries.get({ id, linkDepth }));\r\n  }\r\n\r\n  getContentType(id, project, env) {\r\n    const client = Client.create(getClientConfig(project, env));\r\n    return this.request(`[CONTENT TYPE] ${id} ${project}`, () =>\r\n      client.contentTypes.get(id)\r\n    );\r\n  }\r\n\r\n  getTaxonomyNode(key, project, env) {\r\n    const client = Client.create(getClientConfig(project, env));\r\n    return this.request(`[TAXONOMY NODE] ${key}`, () =>\r\n      client.taxonomy\r\n        .resolveChildren(key)\r\n        .then(node => this.extendTaxonomyNode(node))\r\n    );\r\n  }\r\n\r\n  getRootNode(options, project, env) {\r\n    const client = Client.create(getClientConfig(project, env));\r\n    return this.request(`${project} / ${JSON.stringify(options)}`, () =>\r\n      client.nodes.getRoot(options)\r\n    );\r\n  }\r\n\r\n  getNode(options, project, env) {\r\n    const client = Client.create(getClientConfig(project, env));\r\n    return this.request(\r\n      `${project} ${(options && options.path) || options} ${JSON.stringify(\r\n        options\r\n      )}`,\r\n      () => client.nodes.get(options)\r\n    );\r\n  }\r\n\r\n  getAncestors(options, project, env) {\r\n    const client = Client.create(getClientConfig(project, env));\r\n    return this.request(\r\n      `${project} [A] ${(options && options.id) || options} ${JSON.stringify(\r\n        options\r\n      )}`,\r\n      () => client.nodes.getAncestors(options)\r\n    );\r\n  }\r\n\r\n  getChildren(options, project, env) {\r\n    const client = Client.create(getClientConfig(project, env));\r\n    return this.request(\r\n      `${project} [C] ${(options && options.id) || options} ${JSON.stringify(\r\n        options\r\n      )}`,\r\n      () => client.nodes.getChildren(options)\r\n    );\r\n  }\r\n\r\n  getSiblings(options, project, env) {\r\n    const client = Client.create(getClientConfig(project, env));\r\n    return this.request(\r\n      `${project} [S] ${(options && options.id) || options} ${JSON.stringify(\r\n        options\r\n      )}`,\r\n      () => client.nodes.getSiblings(options)\r\n    );\r\n  }\r\n\r\n  request(key, execute) {\r\n    if (!this.cache.get(key) || typeof window == 'undefined') {\r\n      let promise = execute();\r\n      this.cache.set(key, promise);\r\n      promise.catch(() => {\r\n        this.cache.remove(key);\r\n      });\r\n    }\r\n    return this.cache.get(key);\r\n  }\r\n\r\n  extendTaxonomyNode(node) {\r\n    let id = this.getTaxonomyId(node);\r\n    this.taxonomyLookup[id] = node.key;\r\n    return {\r\n      ...node,\r\n      id,\r\n      children: node.children\r\n        ? node.children.map(n => this.extendTaxonomyNode(n))\r\n        : null,\r\n    };\r\n  }\r\n\r\n  getTaxonomyId(node) {\r\n    if (node.key) {\r\n      let parts = node.key.split('/');\r\n      return parts[parts.length - 1];\r\n    }\r\n    return '';\r\n  }\r\n\r\n  getTaxonomyKey(id) {\r\n    return this.taxonomyLookup[id];\r\n  }\r\n}\r\n\r\nexport const cachedSearch = new CachedSearch();\r\n","const VERSION_PREFIX = '@VERSION/';\r\nexport const SET_VERSION = `${VERSION_PREFIX}SET_VERSION`;\r\nexport const SET_VERSION_STATUS = `${VERSION_PREFIX}SET_VERSION_STATUS`;\r\n","import { action } from '~/core/util/helpers';\r\nimport { SET_VERSION, SET_VERSION_STATUS } from '~/core/redux/types/version';\r\n\r\nexport const setVersion = (commitRef, buildNo) =>\r\n  action(SET_VERSION, { commitRef, buildNo });\r\n\r\nexport const setVersionStatus = status =>\r\n  action(SET_VERSION_STATUS, { status });\r\n","import { OrderedMap, fromJS, List, Set } from 'immutable';\r\nimport {\r\n  SET_ENTRY,\r\n  SET_NAVIGATION_PATH,\r\n  SET_ANCESTORS,\r\n  SET_TARGET_PROJECT,\r\n  SET_ROUTE,\r\n  SET_SIBLINGS,\r\n  UPDATE_LOADING_STATE,\r\n} from '~/core/redux/types/routing';\r\nimport { GetAllResponseGuids } from '~/core/util/ContensisDeliveryApi';\r\n\r\nlet initialState = OrderedMap({\r\n  contentTypeId: null,\r\n  currentPath: '/',\r\n  currentNode: [],\r\n  currentNodeAncestors: List(),\r\n  currentProject: 'unknown',\r\n  currentTreeId: null,\r\n  entry: null,\r\n  entryDepends: List(),\r\n  entryID: null,\r\n  isLoading: false,\r\n  location: null,\r\n  mappedEntry: null,\r\n  nodeDepends: List(),\r\n  notFound: false,\r\n  staticRoute: null,\r\n});\r\n\r\nexport default (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_ANCESTORS: {\r\n      if (action.ancestors) {\r\n        let ancestorIDs = action.ancestors.map(node => {\r\n          return node.id;\r\n        });\r\n\r\n        let currentNodeDepends = state.get('nodeDepends');\r\n        const allNodeDepends = Set.union([\r\n          Set(ancestorIDs),\r\n          currentNodeDepends,\r\n        ]);\r\n        return state\r\n          .set('nodeDepends', allNodeDepends)\r\n          .set('currentNodeAncestors', fromJS(action.ancestors));\r\n      }\r\n      return state.set('currentNodeAncestors', fromJS(action.ancestors));\r\n    }\r\n    case SET_ENTRY: {\r\n      const {\r\n        entry,\r\n        mappedEntry,\r\n        node = {},\r\n        isLoading = false,\r\n        notFound = false,\r\n      } = action;\r\n      let nextState;\r\n\r\n      if (!entry) {\r\n        nextState = state\r\n          .set('entryID', null)\r\n          .set('entryDepends', null)\r\n          .set('entry', null)\r\n          .set('mappedEntry', null)\r\n          .set('isLoading', isLoading)\r\n          .set('notFound', notFound);\r\n      } else {\r\n        const entryDepends = GetAllResponseGuids(entry);\r\n\r\n        nextState = state\r\n          .set('entryID', action.id)\r\n          .set('entryDepends', fromJS(entryDepends))\r\n          .set('entry', fromJS(entry))\r\n          .set('isLoading', isLoading)\r\n          .set('notFound', notFound);\r\n\r\n        if (mappedEntry)\r\n          nextState = nextState\r\n            .set('mappedEntry', fromJS(mappedEntry))\r\n            .set('entry', fromJS({ sys: entry.sys }));\r\n      }\r\n\r\n      if (!node) {\r\n        return nextState.set('nodeDepends', null).set('currentNode', null);\r\n      } else {\r\n        // On Set Node, we reset all dependants.\r\n        const nodeDepends = Set([node.id]);\r\n        return nextState\r\n          .set('nodeDepends', nodeDepends)\r\n          .set('currentNode', fromJS(node))\r\n          .removeIn(['currentNode', 'entry']); // We have the entry stored elsewhere, so lets not keep it twice.\r\n      }\r\n    }\r\n    case UPDATE_LOADING_STATE: {\r\n      return state.set('isLoading', action.isLoading);\r\n    }\r\n    case SET_NAVIGATION_PATH: {\r\n      let staticRoute = false;\r\n      if (action.staticRoute) {\r\n        staticRoute = { ...action.staticRoute };\r\n      }\r\n      if (action.path) {\r\n        // Don't run a path update on iniutial load as we allready should have it in redux\r\n        const entryUri = state.getIn(['entry', 'sys', 'uri']);\r\n        if (entryUri != action.path) {\r\n          return state\r\n            .set('currentPath', fromJS(action.path))\r\n            .set('location', fromJS(action.location))\r\n            .set(\r\n              'staticRoute',\r\n              fromJS({\r\n                ...staticRoute,\r\n                route: { ...staticRoute.route, component: null },\r\n              })\r\n            )\r\n            .set('isLoading', typeof window !== 'undefined');\r\n        } else {\r\n          return state.set('location', fromJS(action.location)).set(\r\n            'staticRoute',\r\n            fromJS({\r\n              ...staticRoute,\r\n              route: { ...staticRoute.route, component: null },\r\n            })\r\n          );\r\n        }\r\n      }\r\n      return state;\r\n    }\r\n    case SET_ROUTE: {\r\n      return state.set('nextPath', action.path);\r\n    }\r\n    case SET_SIBLINGS: {\r\n      // Can be null in some cases like the homepage.\r\n      let currentNodeSiblingParent = null;\r\n      let siblingIDs = [];\r\n      if (action.siblings && action.siblings.length > 0) {\r\n        currentNodeSiblingParent = action.siblings[0].parentId;\r\n        siblingIDs = action.siblings.map(node => {\r\n          return node.id;\r\n        });\r\n      }\r\n      let currentNodeDepends = state.get('nodeDepends');\r\n      const allNodeDepends = Set.union([Set(siblingIDs), currentNodeDepends]);\r\n      return state\r\n        .set('nodeDepends', allNodeDepends)\r\n        .set('currentNodeSiblings', fromJS(action.siblings))\r\n        .set('currentNodeSiblingsParent', currentNodeSiblingParent);\r\n    }\r\n    case SET_TARGET_PROJECT: {\r\n      return state\r\n        .set('currentProject', action.project)\r\n        .set('currentTreeId', '') //getTreeID(action.project))\r\n        .set('allowedGroups', fromJS(action.allowedGroups));\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { Map } from 'immutable';\r\nimport { SET_VERSION, SET_VERSION_STATUS } from '~/core/redux/types/version';\r\n\r\nlet initialState = Map({\r\n  commitRef: null,\r\n  buildNo: null,\r\n  contensisVersionStatus: 'published',\r\n});\r\n\r\nexport default (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_VERSION_STATUS: {\r\n      return state.set('contensisVersionStatus', action.status);\r\n    }\r\n    case SET_VERSION: {\r\n      return state\r\n        .set('commitRef', action.commitRef)\r\n        .set('buildNo', action.buildNo);\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","const ACTION_PREFIX = '@NAVIGATION/';\r\nexport const GET_NODE_TREE = `${ACTION_PREFIX}_GET_NODE_TREE`;\r\nexport const SET_NODE_TREE = `${ACTION_PREFIX}_SET_NODE_TREE`;\r\nexport const GET_NODE_TREE_ERROR = `${ACTION_PREFIX}_GET_NODE_TREE_ERROR`;\r\n","import { Map, fromJS, List } from 'immutable';\r\n\r\nimport {\r\n  SET_NODE_TREE,\r\n  GET_NODE_TREE_ERROR,\r\n} from '~/core/redux/types/navigation';\r\n\r\nconst initialState = Map({\r\n  root: null,\r\n  treeDepends: new List([]),\r\n  isError: false,\r\n  isReady: false,\r\n});\r\n\r\nexport default (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_NODE_TREE: {\r\n      return state.set('root', fromJS(action.nodes)).set('isReady', true);\r\n    }\r\n    case GET_NODE_TREE_ERROR: {\r\n      return state.set('isError', true);\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { CALL_HISTORY_METHOD } from '~/core/redux/types/routing';\r\n\r\n/**\r\n * This middleware captures CALL_HISTORY_METHOD actions to redirect to the\r\n * provided history object. This will prevent these actions from reaching your\r\n * reducer or any middleware that comes after this one.\r\n */\r\n/* eslint-disable no-unused-vars */\r\nconst routerMiddleware = history => store => next => action => {\r\n  if (action.type !== CALL_HISTORY_METHOD) {\r\n    return next(action);\r\n  }\r\n\r\n  const {\r\n    payload: { method, args },\r\n  } = action;\r\n  history[method](...args);\r\n};\r\n\r\nexport default routerMiddleware;\r\n","import { compose, createStore, applyMiddleware } from 'redux';\r\nimport { combineReducers } from 'redux-immutable';\r\nimport thunk from 'redux-thunk';\r\nimport createSagaMiddleware, { END } from 'redux-saga';\r\n\r\n// Core reducers\r\nimport RoutingReducer from './reducers/routing';\r\nimport { reducer as UserReducer } from '~/features/login';\r\nimport VersionReducer from './reducers/version';\r\nimport NavigationReducer from './reducers/navigation';\r\nimport routerMiddleware from './routerMiddleware';\r\n\r\nexport let reduxStore = null;\r\n\r\nexport default (featureReducers, initialState, history) => {\r\n  const thunkMiddleware = [thunk];\r\n\r\n  let reduxDevToolsMiddleware = f => f;\r\n\r\n  if (typeof window != 'undefined') {\r\n    reduxDevToolsMiddleware = window.__REDUX_DEVTOOLS_EXTENSION__\r\n      ? window.__REDUX_DEVTOOLS_EXTENSION__()\r\n      : f => f;\r\n  }\r\n\r\n  const sagaMiddleware = createSagaMiddleware();\r\n  const middleware = compose(\r\n    applyMiddleware(\r\n      ...thunkMiddleware,\r\n      sagaMiddleware,\r\n      routerMiddleware(history)\r\n    ),\r\n    reduxDevToolsMiddleware\r\n  );\r\n\r\n  let reducers = {\r\n    navigation: NavigationReducer,\r\n    routing: RoutingReducer,\r\n    user: UserReducer,\r\n    version: VersionReducer,\r\n    ...featureReducers,\r\n  };\r\n\r\n  const combinedReducers = combineReducers(reducers);\r\n\r\n  const store = initialState => {\r\n    const store = createStore(combinedReducers, initialState, middleware);\r\n    store.runSaga = sagaMiddleware.run;\r\n    store.close = () => store.dispatch(END);\r\n    return store;\r\n  };\r\n\r\n  reduxStore = store(initialState);\r\n  return reduxStore;\r\n};\r\n","export const selectCommitRef = state => {\r\n  return state.getIn(['version', 'commitRef']);\r\n};\r\nexport const selectBuildNumber = state => {\r\n  return state.getIn(['version', 'buildNo']);\r\n};\r\n\r\nexport const selectVersionStatus = state => {\r\n  return state.getIn(['version', 'contensisVersionStatus']);\r\n};\r\n","export const hasNavigationTree = state => {\r\n  return state.getIn(['navigation', 'isReady']);\r\n};\r\n\r\nexport const selectNavigationRoot = state => {\r\n  return state.getIn(['navigation', 'root']);\r\n};\r\n\r\nexport const selectNavigationDepends = state => {\r\n  return state.getIn(['navigation', 'treeDepends']);\r\n};\r\n"],"names":["getClientConfig","project","config","DELIVERY_API_CONFIG","projectId","window","PROXY_DELIVERY_API","rootUrl","responseHandler","GetClientSideDeliveryApiStatus","currentHostname","location","hostname","GetDeliveryApiStatusFromHostname","indexOf","endsWith","GetResponseGuids","object","Ids","Object","keys","some","k","id","language","dataFormat","push","toLowerCase","subIds","length","GetAllResponseGuids","returnItems","unique","Set","DeliveryApi","search","query","linkDepth","env","client","Client","create","entries","getClient","deliveryApiStatus","baseConfig","versionStatus","getEntry","get","deliveryApi","CacheNode","constructor","key","value","next","prev","LruCache","limit","map","head","tail","size","node","remove","setHead","set","CachedSearch","cache","taxonomyLookup","request","JSON","stringify","toString","clientConfig","getContentType","contentTypes","getTaxonomyNode","taxonomy","resolveChildren","then","extendTaxonomyNode","getRootNode","options","nodes","getRoot","getNode","path","getAncestors","getChildren","getSiblings","execute","promise","catch","getTaxonomyId","children","n","parts","split","getTaxonomyKey","cachedSearch","VERSION_PREFIX","SET_VERSION","SET_VERSION_STATUS","setVersion","commitRef","buildNo","action","setVersionStatus","status","initialState","OrderedMap","contentTypeId","currentPath","currentNode","currentNodeAncestors","List","currentProject","currentTreeId","entry","entryDepends","entryID","isLoading","mappedEntry","nodeDepends","notFound","staticRoute","state","type","SET_ANCESTORS","ancestors","ancestorIDs","currentNodeDepends","allNodeDepends","union","fromJS","SET_ENTRY","nextState","sys","removeIn","UPDATE_LOADING_STATE","SET_NAVIGATION_PATH","entryUri","getIn","route","component","SET_ROUTE","SET_SIBLINGS","currentNodeSiblingParent","siblingIDs","siblings","parentId","SET_TARGET_PROJECT","allowedGroups","Map","contensisVersionStatus","ACTION_PREFIX","GET_NODE_TREE","SET_NODE_TREE","GET_NODE_TREE_ERROR","root","treeDepends","isError","isReady","routerMiddleware","history","store","CALL_HISTORY_METHOD","payload","method","args","reduxStore","featureReducers","thunkMiddleware","thunk","reduxDevToolsMiddleware","f","__REDUX_DEVTOOLS_EXTENSION__","sagaMiddleware","createSagaMiddleware","middleware","compose","applyMiddleware","reducers","navigation","NavigationReducer","routing","RoutingReducer","user","UserReducer","version","VersionReducer","combinedReducers","combineReducers","createStore","runSaga","run","close","dispatch","END","selectCommitRef","selectBuildNumber","selectVersionStatus","hasNavigationTree","selectNavigationRoot","selectNavigationDepends"],"mappings":"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"}