{"version":3,"file":"user.js","sources":["../src/app/features/login/components/withLogin.js"],"sourcesContent":["import { connect } from 'react-redux';\r\nimport {\r\n  loginUser,\r\n  logoutUser,\r\n  toggleLoginMode,\r\n  forgotPassword,\r\n  changePassword,\r\n  changePasswordWithToken,\r\n  setRecaptchaResponse,\r\n} from '../redux/actions';\r\nimport {\r\n  selectUser,\r\n  selectUserMessage,\r\n  selectLoginScreenMode,\r\n  selectPasswordMessage,\r\n  selectChangePasswordMessage,\r\n  selectCaptchaSiteKey,\r\n  selectCaptchaResponse,\r\n  selectUserLoggedIn,\r\n} from '../redux/selectors';\r\nimport { toJS } from '~/core/util/ToJs';\r\nimport {\r\n  selectCurrentPath,\r\n  selectQueryStringAsObject,\r\n} from '~/core/redux/selectors/routing';\r\n\r\nconst getDisplayName = WrappedComponent => {\r\n  return WrappedComponent.displayName || WrappedComponent.name || 'Component';\r\n};\r\n\r\nconst withLogin = WrappedComponent => {\r\n  // Returns a redux-connected component with the following props:\r\n  // this.propTypes = {\r\n  //   loginUser: PropTypes.func,\r\n  //   logoutUser: PropTypes.func,\r\n  //   user: PropTypes.object,\r\n  // };\r\n\r\n  const mapStateToProps = state => {\r\n    return {\r\n      user: selectUser(state),\r\n      userMessage: selectUserMessage(state),\r\n      screenMode: selectLoginScreenMode(state),\r\n      passwordMessage: selectPasswordMessage(state),\r\n      changePasswordMessage: selectChangePasswordMessage(state),\r\n      captchaSiteKey: selectCaptchaSiteKey(state),\r\n      isHuman: selectCaptchaResponse(state),\r\n      isLoggedIn: selectUserLoggedIn(state),\r\n      currentPath: selectCurrentPath(state),\r\n      queryString: selectQueryStringAsObject(state),\r\n    };\r\n  };\r\n\r\n  const mapDispatchToProps = {\r\n    loginUser,\r\n    logoutUser,\r\n    toggleLoginMode,\r\n    forgotPassword,\r\n    changePassword,\r\n    changePasswordWithToken,\r\n    captchaResponse: setRecaptchaResponse,\r\n  };\r\n\r\n  const ConnectedComponent = connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n  )(toJS(WrappedComponent));\r\n\r\n  ConnectedComponent.displayName = `${getDisplayName(WrappedComponent)}`;\r\n\r\n  return ConnectedComponent;\r\n};\r\n\r\nexport default withLogin;\r\n"],"names":["getDisplayName","WrappedComponent","displayName","name","withLogin","mapStateToProps","state","user","selectUser","userMessage","selectUserMessage","screenMode","selectLoginScreenMode","passwordMessage","selectPasswordMessage","changePasswordMessage","selectChangePasswordMessage","captchaSiteKey","selectCaptchaSiteKey","isHuman","selectCaptchaResponse","isLoggedIn","selectUserLoggedIn","currentPath","selectCurrentPath","queryString","selectQueryStringAsObject","mapDispatchToProps","loginUser","logoutUser","toggleLoginMode","forgotPassword","changePassword","changePasswordWithToken","captchaResponse","setRecaptchaResponse","ConnectedComponent","connect","toJS"],"mappings":";;;;;;;;;;;;;AA0BA,MAAMA,cAAc,GAAGC,gBAAgB,IAAI;AACzC,SAAOA,gBAAgB,CAACC,WAAjB,IAAgCD,gBAAgB,CAACE,IAAjD,IAAyD,WAAhE;AACD,CAFD;;MAIMC,SAAS,GAAGH,gBAAgB,IAAI;AACpC;AACA;AACA;AACA;AACA;AACA;AAEA,QAAMI,eAAe,GAAGC,KAAK,IAAI;AAC/B,WAAO;AACLC,MAAAA,IAAI,EAAEC,UAAU,CAACF,KAAD,CADX;AAELG,MAAAA,WAAW,EAAEC,iBAAiB,CAACJ,KAAD,CAFzB;AAGLK,MAAAA,UAAU,EAAEC,qBAAqB,CAACN,KAAD,CAH5B;AAILO,MAAAA,eAAe,EAAEC,qBAAqB,CAACR,KAAD,CAJjC;AAKLS,MAAAA,qBAAqB,EAAEC,2BAA2B,CAACV,KAAD,CAL7C;AAMLW,MAAAA,cAAc,EAAEC,oBAAoB,CAACZ,KAAD,CAN/B;AAOLa,MAAAA,OAAO,EAAEC,qBAAqB,CAACd,KAAD,CAPzB;AAQLe,MAAAA,UAAU,EAAEC,kBAAkB,CAAChB,KAAD,CARzB;AASLiB,MAAAA,WAAW,EAAEC,iBAAiB,CAAClB,KAAD,CATzB;AAULmB,MAAAA,WAAW,EAAEC,yBAAyB,CAACpB,KAAD;AAVjC,KAAP;AAYD,GAbD;;AAeA,QAAMqB,kBAAkB,GAAG;AACzBC,IAAAA,SADyB;AAEzBC,IAAAA,UAFyB;AAGzBC,IAAAA,eAHyB;AAIzBC,IAAAA,cAJyB;AAKzBC,IAAAA,cALyB;AAMzBC,IAAAA,uBANyB;AAOzBC,IAAAA,eAAe,EAAEC;AAPQ,GAA3B;AAUA,QAAMC,kBAAkB,GAAGC,OAAO,CAChChC,eADgC,EAEhCsB,kBAFgC,CAAP,CAGzBW,IAAI,CAACrC,gBAAD,CAHqB,CAA3B;AAKAmC,EAAAA,kBAAkB,CAAClC,WAAnB,GAAkC,GAAEF,cAAc,CAACC,gBAAD,CAAmB,EAArE;AAEA,SAAOmC,kBAAP;AACD;;;;"}