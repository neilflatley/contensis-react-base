{"version":3,"file":"ToJs-020d9abb.js","sources":["../src/app/features/login/redux/selectors.js","../src/app/features/login/util/matchGroups.js","../src/app/core/util/ToJs.js"],"sourcesContent":["import { Map } from 'immutable';\r\n\r\nexport const selectUserIsLoading = state => {\r\n  return state.getIn(['user', 'authenticationState', 'loading']);\r\n};\r\nexport const selectUserIsAuthenticated = state => {\r\n  return (\r\n    state.getIn(['user', 'authenticationState', 'authenticated']) &&\r\n    state.getIn(['user']) != null\r\n  );\r\n};\r\nexport const selectUserAuthenticationError = state => {\r\n  return state.getIn(['user', 'authenticationState', 'authenticationError']);\r\n};\r\nexport const selectUserError = state => {\r\n  return state.getIn(['user', 'authenticationState', 'error']);\r\n};\r\nexport const selectClientCredentials = state => {\r\n  return state.getIn(['user', 'authenticationState', 'clientCredentials']);\r\n};\r\nexport const selectUser = state => {\r\n  return state.getIn(['user']);\r\n};\r\nexport const selectUserIsZengentiStaff = state => {\r\n  return state.getIn(['user', 'isZengentiStaff']);\r\n};\r\nexport const selectUserGuid = state => {\r\n  return state.getIn(['user', 'id']);\r\n};\r\nexport const selectUsername = state => {\r\n  return state.getIn(['user', 'username']);\r\n};\r\nexport const selectUserEmail = state => {\r\n  return state.getIn(['user', 'email']);\r\n};\r\nexport const selectUserGroups = state => {\r\n  return state.getIn(['user', 'groups']);\r\n};\r\nexport const selectUserSecurityToken = state => {\r\n  return state.getIn([\r\n    'user',\r\n    'authenticationState',\r\n    'clientCredentials',\r\n    'contensisClassicToken',\r\n  ]);\r\n};\r\n\r\nexport const selectUserRegistration = state =>\r\n  state.getIn(['user', 'registration'], Map());\r\n\r\nexport const selectUserRegistrationError = state =>\r\n  state.getIn(['user', 'registration', 'error'], false);\r\n\r\nexport const selectUserRegistrationIsLoading = state =>\r\n  state.getIn(['user', 'registration', 'loading'], false);\r\n\r\nexport const selectUserRegistrationIsSuccess = state =>\r\n  state.getIn(['user', 'registration', 'success'], false);\r\n","export const matchUserGroup = (userGroups = [], requiredGroups = []) => {\r\n  if (\r\n    !Array.isArray(requiredGroups) ||\r\n    (Array.isArray(requiredGroups) && requiredGroups.length === 0)\r\n  )\r\n    return true;\r\n\r\n  const groupMatch = requiredGroups.some(requiredGroup => {\r\n    return userGroups.some(userGroup => {\r\n      if (requiredGroup.id === userGroup.id) {\r\n        return true;\r\n      }\r\n      if (requiredGroup.name === userGroup.name) {\r\n        return true;\r\n      }\r\n    });\r\n  });\r\n  return groupMatch;\r\n};\r\n","import React from 'react';\r\nimport { Iterable } from 'immutable';\r\n\r\nexport const toJS = WrappedComponent => wrappedComponentProps => {\r\n  const KEY = 0;\r\n  const VALUE = 1;\r\n\r\n  const propsJS = Object.entries(wrappedComponentProps).reduce(\r\n    (newProps, wrappedComponentProp) => {\r\n      newProps[wrappedComponentProp[KEY]] = Iterable.isIterable(\r\n        wrappedComponentProp[VALUE]\r\n      )\r\n        ? wrappedComponentProp[VALUE].toJS()\r\n        : wrappedComponentProp[VALUE];\r\n      return newProps;\r\n    },\r\n    {}\r\n  );\r\n\r\n  return <WrappedComponent {...propsJS} />;\r\n};\r\n"],"names":["selectUserIsLoading","state","getIn","selectUserIsAuthenticated","selectUserAuthenticationError","selectUserError","selectClientCredentials","selectUser","selectUserIsZengentiStaff","selectUserGuid","selectUsername","selectUserEmail","selectUserGroups","selectUserSecurityToken","selectUserRegistration","Map","selectUserRegistrationError","selectUserRegistrationIsLoading","selectUserRegistrationIsSuccess","matchUserGroup","userGroups","requiredGroups","Array","isArray","length","groupMatch","some","requiredGroup","userGroup","id","name","toJS","WrappedComponent","wrappedComponentProps","KEY","VALUE","propsJS","Object","entries","reduce","newProps","wrappedComponentProp","Iterable","isIterable"],"mappings":"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"}